---
authors:
  - Jose Valdivia
title: Useful Higer Order Functions in JavaScript
description:
  In this article, we will go over some of the most useful higher order
  functions in JavaScript. We will go over what they are, how they work, and how
  to use them.
date: "2024-01-26"
image: /content/js-useful-functions.webp
tags:
  - JavaScript
---


## `Array.reduce()`

Iterates each element of the array, applies a callback function to each element and accumulates a single result.

Same as `fold_left` in OCAML. `reduce()` accepts 2 arguments:
- `λ` - callback function (or lambda) that takes 4 arguments:
  - `acc` - accumulator at each iteration.
  - `e` - current element from array being processed.
  - `idx` [optional]
  - `arr` [optional]
  
  The `return` updates the accumulator for the next iteration<br/>The `return` must be same type as `initial_acc`

- `initial_acc` - an initial value for the `accumulator`. If not given, `acc = A[0]` and loop starts at `A[1]`

Return value:
  - a `new` accumulated result

<Callout type="warning" title="Warning"> 
Callback func. must `return` so `acc` is updated for the next iteration
</Callout>


```javascript showLineNumbers
const sum = [1, 2, 3, 4, 5].reduce((acc, e) => {
  // acc = acc + e
  return acc + e
}, 0)
// sum -> 15
```

## `Array.filter()`

Filters out elements based on a condition.

The `filter()` function takes one argument:
- `λ` - callback function (or lambda), which is executed for each element in the array:
  - `e` - current element from array being processed.
  - `idx` [optional]
  - `arr` [optional]

  Callback must return `True` or `False` for each element.<br/>
  Only elements that return `True` are kept in the new array.

Return value:
  - `new` array with the filtered elements

<Callout title="Note" type="default">
  Returns a `new` Array
</Callout>  

```javascript showLineNumbers
const evenNumbers = [1, 2, 3, 4, 5, 6].filter( (number) =>
  number % 2 === 0;
);
// evenNumbers -> [2, 4, 6]
```

## `Array.map()`

Same `map` as OCAML. Modifies each element on the array based on a function passed and returns a new Array.

The `map()` takes one argument:
- `λ` callback function (or lambda) that accepts arguments:
  - `e` - element to be modified
  - `idx` [optional]
  - `arr` [optional]
  
<Callout title="Note" type="default">
  Returns a `new` Array
</Callout>

```javascript showLineNumbers
const newarr = [1, 2, 3, 4].map((e, idx, arr) => elem * 2)
// newArr -> [2,4,6,8]
```

## `Array.join()`

Join each element of the array with the passed value.

Return value:
- **string**

```javascript showLineNumbers
[1, 2, 3, 4].join("-")
// -> "1-2-3-4"
```

## `Array.every()`

Checks if all elements in an array passes a given test function

The `every()` takes one argument:
- `λ` - callback function (or lambda) accepts arguments:
  - `e` - element to be tested
  - `idx` [optional]
  - `arr` [optional]

Return value: 
- `True` if **ALL** passes otherwise, `False` (search stops)

```javascript showLineNumbers
/* Check for odd in array */
[2, 6, 8, 1, 4].every((e) => e % 2 == 1)
// Loop1, e -> 2, False, end loop, 
// -> False

[1, 3, 5, 7].every((e) => e % 2 == 1)
// Loop1, e -> 1, True
// Loop2, e -> 3, True
// Loop3, e -> 5, True
// Loop4, e -> 7, True, ✅ end loop
// -> True
```

## `Array.some()`

Checks if at least one element in an array passes a given test function

The `some()` function takes one argument:
- `λ` compare function (or lambda), that gives a condition to be met
  - `e` - element to be tested
  - `idx` [optional]
  - `arr` [optional]

Return value:

- Returns `True` if at least **ONE** `e` passes (search stops) otherwise `False`

```javascript showLineNumbers
// Check for odd in array
[2, 6, 8, 1, 4].some((elem) => elem % 2 == 1)
// Loop1, e -> 2, False
// Loop2, e -> 6, False
// Loop3, e -> 8, False
// Loop4, e -> 1, True, ✅ end loop
// Loop5, ❌ never runs
// -> True
```

## `Array.sort()`

Sorts an array in ascending or descending order.

<Callout title="Note"> 
  `sort()` MODIFIES the original array
</Callout>

```javascript showLineNumbers
const fruits = ["banana", "apple", "orange", "grape"]
fruits.sort()
// fruits -> ['apple', 'banana', 'grape', 'orange']
```


The `sort()` function takes one argument:
- Compare function (or lambda) that compares 2 elements at a time
  - `a` - first element
  - `b` - second element
  - If `compareFunction(a, b)` returns `-1`, `a` comes before `b`. **NO SWAP**
  - If `compareFunction(a, b)` returns `1`, `b` comes before `a`. **SWAP**
  - If `compareFunction(a, b)` returns `0`, **NO SWAP**


```javascript showLineNumbers
// Reverse sort
const fruits = ['banana', 'apple', 'orange', 'grape'];

fruits.sort(compareFunction(a, b) {
  if (a > b) {
    return -1; // NO SWAP
  } else if (a < b) {
    return 1; // SWAP
  } else {
    return 0; // NO SWAP
  }
});
// fruits -> ['orange', 'grape', 'banana', 'apple']
```

## `Array.forEach()`

- Allows you to loop over an array's elements and execute a function on each element.
- The `forEach` function takes one argument
  - a callback function that do something to each element in the array.
  - callback function (or lambda) accepts destructuring
    - `elem`
    - `idx`
    - `arr`

```javascript showLineNumbers
const numbers = [1, 2, 3, 4, 5];
numbers.forEach(function(number) {
    document.writeln(`Elem: ${elem}`)
});
// [2, 3, 4, 5, 6]

numbers.forEach( (elem, idx, arr) =>
    document.writeln(`${idx}, ${elem}, ${arr}`);
)
```

## `Array.find()`

- Find the first occurrence of a given function condition
- Returns the first `element` found

```javascript showLineNumbers
fruits = ["apple", "pear", "banana", "orange", "plum", "grape"]
fruit = fruits.find((elem) => elem.length >= 6)
// fruit = banana
```

## `Array.findIndex()`

- Same as `find()`
- Returns the first `index` found

```javascript showLineNumbers
fruits = ["apple", "pear", "banana", "orange", "plum", "grape"]
fruit_idx = fruits.find((elem) => elem.length >= 6)
// fruit_idx = 2
```

## `String.localeCompare()`

- Compares two strings
- Returns
  - -1 if `x` < `y`
  - 0 if `x` = `y`
  - 1 if `x` > `y`

```javascript showLineNumbers
"Rose".localeCompare("Kathy") // x > y => 1
"Bob".localeCompare("Kathy") // x < y => -1
"Kathy".localeCompare("Kathy") // => 0
```

## `setTimeout` vs `setInterval` vs `clearInterval`

- `setTimeout` - delays the execution of a function
  - Takes a function for execution
  - Takes an integer for delay

```javascript showLineNumbers
const delayInMilliSeconds = 4000
setTimeout("message()", delayInMilliSeconds)
```

- `setInterval` - runs the code every `intervalInMiliseconds`
  - returns an ID that `clearInterval` uses to stop execution

```javascript showLineNumbers
const intervalInMilliseconds = 1000
idGlobal = setInterval("swapImages()", intervalInMilliseconds) // Runs swapImages() every 1s

function swapImages() {
  let imageElement = document.querySelector("#myImage")
  let currentImage = imageElement.src,
    nextImage
  if (currentImage.includes("Testudo1.jpg")) {
    nextImage = "images/Testudo2.jpg"
  } else if (currentImage.includes("images/Testudo2.jpg")) {
    nextImage = "images/Testudo3.jpg"
  } else {
    nextImage = "images/Testudo1.jpg"
  }
  imageElement.src = nextImage // takes 1000ms to load img
}

function stopAnimation() {
  // this can be linked to a button to stop interval
  clearInterval(idGlobal)
  alert("Animation Stopped")
}
```

## Default Parameters

```javascript showLineNumbers
function task(name = "John", age = 21, salary = special()) {
  document.writeln(name + " " + age + " " + salary + "<br>")
}
function special() {
  return 10000
}
```

## Arguments of a Function

```javascript showLineNumbers
function process(start, end, delta, message) {
  const args = arguments.length
  // => 4

  const last_arg = arguments[arguments.length - 1]
  // => message

  for (let val of arguments) {
    document.writeln(`${val}`)
  }
  // => start, end, delta, message
}
```
